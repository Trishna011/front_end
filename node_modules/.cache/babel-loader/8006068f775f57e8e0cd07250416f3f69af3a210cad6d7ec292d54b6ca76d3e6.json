{"ast":null,"code":"var _jsxFileName = \"/Users/trishnamandalia/Documents/Final Year Project/Code/project-front_end/src/components/Location.js\",\n  _s = $RefreshSig$();\nimport { Box, Button, Heading } from \"@chakra-ui/react\";\nimport { motion } from \"framer-motion\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MotionBox = motion(Box);\n_c = MotionBox;\nexport default function Location({\n  onBack,\n  onNext,\n  answers\n}) {\n  _s();\n  const [selectedOption, setSelectedOption] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const options = [\"Manchester City Centre\", \"Salford\", \"Stockport\", \"Bolton\", \"Bury\", \"Oldham\", \"Rochdale\", \"Tameside\", \"Trafford\", \"Wigan\", \"Altrincham\", \"Ashton-under-Lyne\", \"Prestwich\", \"Didsbury\", \"Chorlton\", \"Withington\", \"Levenshulme\", \"Sale\", \"Stretford\", \"Cheadle\", \"Hale\", \"Wilmslow\"];\n  const handleNext = async () => {\n    if (!selectedOption) return;\n    setIsSubmitting(true);\n\n    // ✅ merge latest answer\n    const updatedAnswers = {\n      ...answers,\n      location: selectedOption\n    };\n    try {\n      // ✅ send to backend API (Express → Python)\n      const res = await fetch(\"http://localhost:4000/api/estimate\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(updatedAnswers)\n      });\n      const data = await res.json();\n      // Example response: { estimated_cost: 12345 }\n\n      // ✅ pass both location and cost to next step\n      onNext({\n        location: selectedOption,\n        cost: data.estimated_cost\n      });\n    } catch (err) {\n      console.error(\"Error fetching estimate:\", err);\n      onNext({\n        Location: selectedOption,\n        cost: 0\n      }); // fallback\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(MotionBox, {\n    initial: {\n      opacity: 0,\n      y: 80\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    exit: {\n      opacity: 0,\n      y: -80\n    },\n    transition: {\n      duration: 0.6,\n      ease: \"easeInOut\"\n    },\n    p: 8,\n    bg: \"white\",\n    rounded: \"2xl\",\n    shadow: \"xl\",\n    textAlign: \"center\",\n    maxW: \"700px\",\n    color: \"gray.800\",\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      mb: 8,\n      textAlign: \"center\",\n      children: \"Where is your property?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      as: \"select\",\n      placeholder: \"Select a location\",\n      size: \"lg\",\n      rounded: \"full\",\n      bg: \"white\",\n      borderWidth: \"2px\",\n      borderColor: \"gray.300\",\n      focusBorderColor: \"teal.500\",\n      mb: 8,\n      px: 4,\n      py: 3,\n      width: \"100%\",\n      value: selectedOption,\n      onChange: e => setSelectedOption(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select a location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), options.slice().sort((a, b) => a.localeCompare(b)).map((option, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: option,\n        children: option\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      mt: 6,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        colorScheme: \"gray\",\n        rounded: \"full\",\n        onClick: onBack,\n        mr: 4,\n        variant: \"ghost\",\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        colorScheme: \"teal\",\n        rounded: \"full\",\n        isDisabled: !selectedOption || isSubmitting,\n        onClick: handleNext,\n        isLoading: isSubmitting,\n        loadingText: \"Submitting...\",\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)]\n  }, \"question5\", true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(Location, \"Dr8TzWcuwSDVHoLtLmqszlz6D7A=\");\n_c2 = Location;\nvar _c, _c2;\n$RefreshReg$(_c, \"MotionBox\");\n$RefreshReg$(_c2, \"Location\");","map":{"version":3,"names":["Box","Button","Heading","motion","useState","jsxDEV","_jsxDEV","MotionBox","_c","Location","onBack","onNext","answers","_s","selectedOption","setSelectedOption","isSubmitting","setIsSubmitting","options","handleNext","updatedAnswers","location","res","fetch","method","headers","body","JSON","stringify","data","json","cost","estimated_cost","err","console","error","initial","opacity","y","animate","exit","transition","duration","ease","p","bg","rounded","shadow","textAlign","maxW","color","children","mb","fileName","_jsxFileName","lineNumber","columnNumber","as","placeholder","size","borderWidth","borderColor","focusBorderColor","px","py","width","value","onChange","e","target","slice","sort","a","b","localeCompare","map","option","index","mt","colorScheme","onClick","mr","variant","isDisabled","isLoading","loadingText","_c2","$RefreshReg$"],"sources":["/Users/trishnamandalia/Documents/Final Year Project/Code/project-front_end/src/components/Location.js"],"sourcesContent":["import { Box, Button, Heading } from \"@chakra-ui/react\";\nimport { motion } from \"framer-motion\";\nimport { useState } from \"react\";\n\nconst MotionBox = motion(Box);\n\nexport default function Location({ onBack, onNext, answers }) {\n  const [selectedOption, setSelectedOption] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const options = [\n    \"Manchester City Centre\",\n    \"Salford\",\n    \"Stockport\",\n    \"Bolton\",\n    \"Bury\",\n    \"Oldham\",\n    \"Rochdale\",\n    \"Tameside\",\n    \"Trafford\",\n    \"Wigan\",\n    \"Altrincham\",\n    \"Ashton-under-Lyne\",\n    \"Prestwich\",\n    \"Didsbury\",\n    \"Chorlton\",\n    \"Withington\",\n    \"Levenshulme\",\n    \"Sale\",\n    \"Stretford\",\n    \"Cheadle\",\n    \"Hale\",\n    \"Wilmslow\",\n  ];\n\n  const handleNext = async () => {\n    if (!selectedOption) return;\n\n    setIsSubmitting(true);\n\n    // ✅ merge latest answer\n    const updatedAnswers = { ...answers, location: selectedOption };\n\n    try {\n      // ✅ send to backend API (Express → Python)\n      const res = await fetch(\"http://localhost:4000/api/estimate\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(updatedAnswers),\n      });\n\n      const data = await res.json();\n      // Example response: { estimated_cost: 12345 }\n\n      // ✅ pass both location and cost to next step\n      onNext({ location: selectedOption, cost: data.estimated_cost });\n    } catch (err) {\n      console.error(\"Error fetching estimate:\", err);\n      onNext({ Location: selectedOption, cost: 0 }); // fallback\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <MotionBox\n      key=\"question5\"\n      initial={{ opacity: 0, y: 80 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -80 }}\n      transition={{ duration: 0.6, ease: \"easeInOut\" }}\n      p={8}\n      bg=\"white\"\n      rounded=\"2xl\"\n      shadow=\"xl\"\n      textAlign=\"center\"\n      maxW=\"700px\"\n      color=\"gray.800\"\n    >\n      <Heading mb={8} textAlign=\"center\">\n        Where is your property?\n      </Heading>\n\n      {/* ✅ Styled native dropdown */}\n      <Box\n        as=\"select\"\n        placeholder=\"Select a location\"\n        size=\"lg\"\n        rounded=\"full\"\n        bg=\"white\"\n        borderWidth=\"2px\"\n        borderColor=\"gray.300\"\n        focusBorderColor=\"teal.500\"\n        mb={8}\n        px={4}\n        py={3}\n        width=\"100%\"\n        value={selectedOption}\n        onChange={(e) => setSelectedOption(e.target.value)}\n      >\n        <option value=\"\">Select a location</option>\n        {options\n          .slice()                \n          .sort((a, b) => a.localeCompare(b)) \n          .map((option, index) => (\n\n          <option key={index} value={option}>\n            {option}\n          </option>\n        ))}\n      </Box>\n\n      {/* ✅ Navigation buttons */}\n      <Box mt={6}>\n        <Button\n          colorScheme=\"gray\"\n          rounded=\"full\"\n          onClick={onBack}\n          mr={4}\n          variant=\"ghost\"\n        >\n          Back\n        </Button>\n        <Button\n          colorScheme=\"teal\"\n          rounded=\"full\"\n          isDisabled={!selectedOption || isSubmitting}\n          onClick={handleNext}\n          isLoading={isSubmitting}\n          loadingText=\"Submitting...\"\n        >\n          Next\n        </Button>\n      </Box>\n    </MotionBox>\n  );\n}\n"],"mappings":";;AAAA,SAASA,GAAG,EAAEC,MAAM,EAAEC,OAAO,QAAQ,kBAAkB;AACvD,SAASC,MAAM,QAAQ,eAAe;AACtC,SAASC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjC,MAAMC,SAAS,GAAGJ,MAAM,CAACH,GAAG,CAAC;AAACQ,EAAA,GAAxBD,SAAS;AAEf,eAAe,SAASE,QAAQA,CAAC;EAAEC,MAAM;EAAEC,MAAM;EAAEC;AAAQ,CAAC,EAAE;EAAAC,EAAA;EAC5D,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACY,YAAY,EAAEC,eAAe,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EAEvD,MAAMc,OAAO,GAAG,CACd,wBAAwB,EACxB,SAAS,EACT,WAAW,EACX,QAAQ,EACR,MAAM,EACN,QAAQ,EACR,UAAU,EACV,UAAU,EACV,UAAU,EACV,OAAO,EACP,YAAY,EACZ,mBAAmB,EACnB,WAAW,EACX,UAAU,EACV,UAAU,EACV,YAAY,EACZ,aAAa,EACb,MAAM,EACN,WAAW,EACX,SAAS,EACT,MAAM,EACN,UAAU,CACX;EAED,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAACL,cAAc,EAAE;IAErBG,eAAe,CAAC,IAAI,CAAC;;IAErB;IACA,MAAMG,cAAc,GAAG;MAAE,GAAGR,OAAO;MAAES,QAAQ,EAAEP;IAAe,CAAC;IAE/D,IAAI;MACF;MACA,MAAMQ,GAAG,GAAG,MAAMC,KAAK,CAAC,oCAAoC,EAAE;QAC5DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,cAAc;MACrC,CAAC,CAAC;MAEF,MAAMS,IAAI,GAAG,MAAMP,GAAG,CAACQ,IAAI,CAAC,CAAC;MAC7B;;MAEA;MACAnB,MAAM,CAAC;QAAEU,QAAQ,EAAEP,cAAc;QAAEiB,IAAI,EAAEF,IAAI,CAACG;MAAe,CAAC,CAAC;IACjE,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEF,GAAG,CAAC;MAC9CtB,MAAM,CAAC;QAAEF,QAAQ,EAAEK,cAAc;QAAEiB,IAAI,EAAE;MAAE,CAAC,CAAC,CAAC,CAAC;IACjD,CAAC,SAAS;MACRd,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAED,oBACEX,OAAA,CAACC,SAAS;IAER6B,OAAO,EAAE;MAAEC,OAAO,EAAE,CAAC;MAAEC,CAAC,EAAE;IAAG,CAAE;IAC/BC,OAAO,EAAE;MAAEF,OAAO,EAAE,CAAC;MAAEC,CAAC,EAAE;IAAE,CAAE;IAC9BE,IAAI,EAAE;MAAEH,OAAO,EAAE,CAAC;MAAEC,CAAC,EAAE,CAAC;IAAG,CAAE;IAC7BG,UAAU,EAAE;MAAEC,QAAQ,EAAE,GAAG;MAAEC,IAAI,EAAE;IAAY,CAAE;IACjDC,CAAC,EAAE,CAAE;IACLC,EAAE,EAAC,OAAO;IACVC,OAAO,EAAC,KAAK;IACbC,MAAM,EAAC,IAAI;IACXC,SAAS,EAAC,QAAQ;IAClBC,IAAI,EAAC,OAAO;IACZC,KAAK,EAAC,UAAU;IAAAC,QAAA,gBAEhB7C,OAAA,CAACJ,OAAO;MAACkD,EAAE,EAAE,CAAE;MAACJ,SAAS,EAAC,QAAQ;MAAAG,QAAA,EAAC;IAEnC;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAS,CAAC,eAGVlD,OAAA,CAACN,GAAG;MACFyD,EAAE,EAAC,QAAQ;MACXC,WAAW,EAAC,mBAAmB;MAC/BC,IAAI,EAAC,IAAI;MACTb,OAAO,EAAC,MAAM;MACdD,EAAE,EAAC,OAAO;MACVe,WAAW,EAAC,KAAK;MACjBC,WAAW,EAAC,UAAU;MACtBC,gBAAgB,EAAC,UAAU;MAC3BV,EAAE,EAAE,CAAE;MACNW,EAAE,EAAE,CAAE;MACNC,EAAE,EAAE,CAAE;MACNC,KAAK,EAAC,MAAM;MACZC,KAAK,EAAEpD,cAAe;MACtBqD,QAAQ,EAAGC,CAAC,IAAKrD,iBAAiB,CAACqD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MAAAf,QAAA,gBAEnD7C,OAAA;QAAQ4D,KAAK,EAAC,EAAE;QAAAf,QAAA,EAAC;MAAiB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EAC1CtC,OAAO,CACLoD,KAAK,CAAC,CAAC,CACPC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,aAAa,CAACD,CAAC,CAAC,CAAC,CAClCE,GAAG,CAAC,CAACC,MAAM,EAAEC,KAAK,kBAEnBvE,OAAA;QAAoB4D,KAAK,EAAEU,MAAO;QAAAzB,QAAA,EAC/ByB;MAAM,GADIC,KAAK;QAAAxB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEV,CACT,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAGNlD,OAAA,CAACN,GAAG;MAAC8E,EAAE,EAAE,CAAE;MAAA3B,QAAA,gBACT7C,OAAA,CAACL,MAAM;QACL8E,WAAW,EAAC,MAAM;QAClBjC,OAAO,EAAC,MAAM;QACdkC,OAAO,EAAEtE,MAAO;QAChBuE,EAAE,EAAE,CAAE;QACNC,OAAO,EAAC,OAAO;QAAA/B,QAAA,EAChB;MAED;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACTlD,OAAA,CAACL,MAAM;QACL8E,WAAW,EAAC,MAAM;QAClBjC,OAAO,EAAC,MAAM;QACdqC,UAAU,EAAE,CAACrE,cAAc,IAAIE,YAAa;QAC5CgE,OAAO,EAAE7D,UAAW;QACpBiE,SAAS,EAAEpE,YAAa;QACxBqE,WAAW,EAAC,eAAe;QAAAlC,QAAA,EAC5B;MAED;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA,GAnEF,WAAW;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAoEN,CAAC;AAEhB;AAAC3C,EAAA,CAlIuBJ,QAAQ;AAAA6E,GAAA,GAAR7E,QAAQ;AAAA,IAAAD,EAAA,EAAA8E,GAAA;AAAAC,YAAA,CAAA/E,EAAA;AAAA+E,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}